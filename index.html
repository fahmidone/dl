<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Downloads@Fahmid</title>
    <style>
        body { font-family: -apple-system, system-ui, sans-serif; background: #1e1e1e; padding: 20px; }
        .box { max-width: 600px; margin: auto; background: white; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); overflow: hidden; }
        .header { background: #d70040; color: white; padding: 15px; font-weight: bold; }
        .list { list-style: none; padding: 0; margin: 0; }
        .item { border-bottom: 1px solid #eee; transition: 0.2s; }
        .item:hover { background: #f0f7ff; }
        .item a { display: block; padding: 15px; text-decoration: none; color: #007bff; font-weight: 500; }
        .loading { padding: 20px; color: #666; text-align: center; }
    </style>
</head>
<body>

<div class="box">
    <div class="header">GRAB ‚§µÔ∏è</div>
    <div id="file-container" class="loading">Baking goodies...</div>
</div>

<script>
    const user = 'fahmidone';
    const repo = 'dl';
    const folder = '/';

    async function listFiles() {
        const container = document.getElementById('file-container');
        
        try {
            const apiURL = `https://api.github.com/repos/${user}/${repo}/contents/${folder}?t=${new Date().getTime()}`;
            const response = await fetch(apiURL);
            
            if (!response.ok) throw new Error("API Limit reached or Folder not found");

            const files = await response.json();
            let html = '<div class="list">';

            files.forEach(file => {
                if (file.name !== 'index.html' && !file.name.startsWith('.')) {
                    html += `<div class="item"><a href="${file.name}">üìÑ ${file.name}</a></div>`;
                }
            });

            html += '</div>';
            container.innerHTML = html;
            container.className = "";

        } catch (err) {
            container.innerHTML = `
                <div style="padding:20px; color:red;">
                    <strong>Auto-list failed.</strong><br>
                    Possible reasons:<br>
                    1. Repository is Private (API only works for Public)<br>
                    2. Folder name 'dl' is case-sensitive<br>
                </div>
            `;
        }
    }

    listFiles();
</script>

</body>
</html>
